<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>SpinnerRealYT Games</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- IKONA KARTY -->
<link rel="icon" href="Logo.png">

<style>
:root{
    --bg:#0f172a;
    --card:#111827;
    --accent:#38bdf8;
    --text:#e5e7eb;
    --muted:#94a3b8;
}

*{box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto}

body{
    margin:0;
    background:linear-gradient(180deg,#020617,#0f172a);
    color:var(--text);
    min-height:100vh;
    display:flex;
    flex-direction:column;
}

/* HEADER */
header{
    display:flex;
    align-items:center;
    gap:16px;
    padding:16px 24px;
    background:rgba(15,23,42,.85);
    backdrop-filter:blur(8px);
    border-bottom:1px solid #1e293b;
}

header img{
    height:48px;
}

header h1{
    font-size:22px;
    margin:0;
}

/* MENU */
nav{
    display:flex;
    gap:10px;
    padding:16px;
    justify-content:center;
}

nav button{
    background:#1e293b;
    color:var(--text);
    border:none;
    padding:10px 18px;
    border-radius:10px;
    cursor:pointer;
    font-size:15px;
}

nav button.active{
    background:var(--accent);
    color:#020617;
    font-weight:600;
}

/* CONTENT */
main{
    flex:1;
    padding:20px;
    max-width:1100px;
    margin:auto;
    width:100%;
}

.section{
    display:none;
}

.section.active{
    display:block;
}

/* CARD */
.card{
    background:var(--card);
    border-radius:16px;
    padding:20px;
    box-shadow:0 10px 40px rgba(0,0,0,.4);
}

/* FOOTER */
footer{
    text-align:center;
    padding:16px;
    color:var(--muted);
    font-size:14px;
}

/* ===== SAPER ===== */
<!-- SAPER -->
<section id="saper" class="section">
<div class="card">

<h2>üí£ Saper</h2>

<div id="menu" style="background:#1e293b;border-radius:12px;padding:10px;">
Rozmiar:
<input type="number" id="grid-size" value="9" min="5" max="100">
Bomby:
<input type="number" id="bomb-count" value="10" min="5">

<button id="start-btn">Start</button>
<button id="reset-btn">Reset</button>
<button id="mode-toggle">Flag Mode: OFF</button>
<button id="hint-btn">Hint (1 free)</button>

<div id="info">Flags: 0 / 0</div>
<div id="points-info">Points: 0 | Hints: 1</div>
</div>

<div id="game"></div>

<div id="controls">
<button id="btn-open">Otw√≥rz</button>
<button id="btn-flag">Flaga</button>
</div>

<style>
#game{
    display:grid;
    justify-content:center;
    margin:15px auto;
    gap:2px;
    background:#020617;
    touch-action:none;
}
.cell{
    background:#334155;
    display:flex;
    justify-content:center;
    align-items:center;
    cursor:pointer;
    user-select:none;
    font-weight:700;
    border-radius:4px;
}
.open{background:#e5e7eb;color:#020617;}
.mine{background:#dc2626;color:white;}
.flagged{background:#facc15;color:#020617;}
.number1{color:#2563eb}
.number2{color:#16a34a}
.number3{color:#dc2626}
.number4{color:#1e3a8a}
.number5{color:#7c2d12}
.number6{color:#0f766e}
.number7{color:black}
.number8{color:#4b5563}
</style>

<script>
(() => {
let ROWS=9,COLS=9,MINES_COUNT=10;
const gameEl=document.getElementById('game');
const infoEl=document.getElementById('info');
const modeToggleBtn=document.getElementById('mode-toggle');
const resetBtn=document.getElementById('reset-btn');
const startBtn=document.getElementById('start-btn');
const gridSizeInput=document.getElementById('grid-size');
const bombCountInput=document.getElementById('bomb-count');
const btnOpen=document.getElementById('btn-open');
const btnFlag=document.getElementById('btn-flag');
const hintBtn=document.getElementById('hint-btn');
const pointsInfoEl=document.getElementById('points-info');

let cells=[],minePositions=new Set(),flags=new Set(),opened=new Set();
let gameOver=false,flagMode=false,firstClick=true,points=0,hints=1;

function updatePointsInfo(){
    pointsInfoEl.textContent=`Points: ${points} | Hints: ${hints}`;
}

function createGrid(){
    gameEl.innerHTML='';
    cells=[];
    const size=Math.floor(Math.min(500/COLS,500/ROWS));
    gameEl.style.gridTemplateColumns=`repeat(${COLS},${size}px)`;
    for(let i=0;i<ROWS*COLS;i++){
        const c=document.createElement('div');
        c.className='cell';
        c.dataset.index=i;
        c.style.width=c.style.height=size+'px';
        c.style.fontSize=Math.floor(size*0.6)+'px';
        gameEl.appendChild(c);
        cells.push(c);
    }
}

function neighbors(i){
    const r=Math.floor(i/COLS),c=i%COLS,res=[];
    for(let dr=-1;dr<=1;dr++)for(let dc=-1;dc<=1;dc++){
        if(!dr&&!dc)continue;
        const nr=r+dr,nc=c+dc;
        if(nr>=0&&nr<ROWS&&nc>=0&&nc<COLS)res.push(nr*COLS+nc);
    }
    return res;
}

function placeMines(first){
    minePositions.clear();
    while(minePositions.size<MINES_COUNT){
        const p=Math.floor(Math.random()*ROWS*COLS);
        if(p===first||neighbors(first).includes(p))continue;
        minePositions.add(p);
    }
}

function countMines(i){
    return neighbors(i).filter(n=>minePositions.has(n)).length;
}

function openCell(i){
    if(gameOver||opened.has(i)||flags.has(i))return;
    if(firstClick){firstClick=false;placeMines(i);}
    opened.add(i);
    const c=cells[i];
    c.classList.add('open');
    if(minePositions.has(i)){
        c.textContent='üí£';
        c.classList.add('mine');
        return lose();
    }
    const n=countMines(i);
    if(n){c.textContent=n;c.classList.add(`number${n}`);}
    else neighbors(i).forEach(openCell);
    checkWin();
}

function toggleFlag(i){
    if(gameOver||opened.has(i))return;
    const c=cells[i];
    if(flags.has(i)){flags.delete(i);c.textContent='';c.classList.remove('flagged');}
    else if(flags.size<MINES_COUNT){flags.add(i);c.textContent='üö©';c.classList.add('flagged');}
    infoEl.textContent=`Flags: ${flags.size} / ${MINES_COUNT}`;
    checkWin();
}

function lose(){
    gameOver=true;
    infoEl.textContent='üí• Game Over';
    minePositions.forEach(i=>{
        if(!opened.has(i)){
            cells[i].textContent='üí£';
            cells[i].classList.add('mine','open');
        }
    });
}

function checkWin(){
    if(opened.size===ROWS*COLS-MINES_COUNT){
        gameOver=true;
        infoEl.textContent='üéâ You Win!';
        points++;updatePointsInfo();
    }
}

function reset(){
    gameOver=false;firstClick=true;
    flags.clear();opened.clear();
    infoEl.textContent=`Flags: 0 / ${MINES_COUNT}`;
    createGrid();bind();updatePointsInfo();
}

function bind(){
    cells.forEach(c=>{
        c.onclick=()=>flagMode?toggleFlag(+c.dataset.index):openCell(+c.dataset.index);
        c.oncontextmenu=e=>{e.preventDefault();toggleFlag(+c.dataset.index);}
    });
}

startBtn.onclick=()=>{
    ROWS=COLS=+gridSizeInput.value;
    MINES_COUNT=+bombCountInput.value;
    reset();
};
resetBtn.onclick=reset;
modeToggleBtn.onclick=()=>{
    flagMode=!flagMode;
    modeToggleBtn.textContent=`Flag Mode: ${flagMode?'ON':'OFF'}`;
};
btnOpen.onclick=()=>flagMode=false;
btnFlag.onclick=()=>flagMode=true;

reset();
})();
</script>

</div>
</section>

<!-- MENU -->
<section id="home" class="section active">
    <div class="card">
        <h2>üéÆ Witaj!</h2>
        <p>Strona z grami HTML i projektami politycznymi SpinnerRealYT.</p>
        <p>Wybierz zak≈Çadkƒô u g√≥ry.</p>
    </div>
</section>

<!-- SAPER -->
<section id="saper" class="section">
    <div class="card">
        <h2>üí£ Saper</h2>
        <p>Kliknij ‚ÄûNowa gra‚Äù, aby wygenerowaƒá planszƒô.</p>

        <div class="controls">
            <button onclick="startGame()">Nowa gra</button>
        </div>

        <div id="board"></div>
    </div>
</section>

<!-- SONDA≈ªE -->
<section id="sondaze" class="section">
    <div class="card">
        <h2>üìä ≈örednie* sonda≈ºe Partii Politycznych w Polsce</h2>

        <div class="flourish-embed flourish-chart" data-src="visualisation/27035462"></div>
        <script src="https://public.flourish.studio/resources/embed.js"></script>

        <p style="margin-top:14px;color:var(--muted);font-size:14px;">
            *Sonda≈ºe przedstawiajƒÖ u≈õrednione wyniki z r√≥≈ºnych bada≈Ñ opinii publicznej.
        </p>
    </div>
</section>

</main>

<footer>
    ¬© 2026 SpinnerRealYT Games
</footer>

<script>
/* ===== MENU ===== */
function showSection(id,btn){
    document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
}

/* ===== SAPER LOGIC ===== */
const size = 8;
const minesCount = 10;
let board = [];
let revealed = [];

function startGame(){
    const boardEl = document.getElementById('board');
    boardEl.innerHTML = '';
    boardEl.style.gridTemplateColumns = `repeat(${size},36px)`;

    board = Array(size*size).fill(0);
    revealed = Array(size*size).fill(false);

    let placed = 0;
    while(placed < minesCount){
        let i = Math.floor(Math.random()*board.length);
        if(board[i] !== 'M'){
            board[i] = 'M';
            placed++;
        }
    }

    for(let i=0;i<board.length;i++){
        if(board[i]==='M') continue;
        let count = 0;
        neighbors(i).forEach(n=>{
            if(board[n]==='M') count++;
        });
        board[i] = count;
    }

    board.forEach((_,i)=>{
        const cell = document.createElement('div');
        cell.className = 'cell';
        cell.onclick = ()=>reveal(i,cell);
        boardEl.appendChild(cell);
    });
}

function neighbors(i){
    const x = i % size;
    const y = Math.floor(i/size);
    let res=[];
    for(let dy=-1;dy<=1;dy++){
        for(let dx=-1;dx<=1;dx++){
            if(dx===0 && dy===0) continue;
            let nx=x+dx, ny=y+dy;
            if(nx>=0 && nx<size && ny>=0 && ny<size){
                res.push(ny*size+nx);
            }
        }
    }
    return res;
}

function reveal(i,cell){
    if(revealed[i]) return;
    revealed[i]=true;
    cell.classList.add('revealed');

    if(board[i]==='M'){
        cell.classList.add('mine');
        cell.textContent='üí£';
        alert('üí• Przegra≈Çe≈õ!');
        return;
    }

    if(board[i]>0){
        cell.textContent=board[i];
    }else{
        neighbors(i).forEach(n=>{
            const c = document.getElementById('board').children[n];
            if(c) reveal(n,c);
        });
    }
}
</script>

</body>
</html>
