<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<title>SpinnerRealYT Games</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<!-- IKONA KARTY -->
<link rel="icon" href="Logo.png">

<style>
:root{
    --bg:#0f172a;
    --card:#111827;
    --accent:#38bdf8;
    --text:#e5e7eb;
    --muted:#94a3b8;
}

*{box-sizing:border-box;font-family:system-ui,-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto}

body{
    margin:0;
    background:linear-gradient(180deg,#020617,#0f172a);
    color:var(--text);
    min-height:100vh;
    display:flex;
    flex-direction:column;
}

/* HEADER */
header{
    display:flex;
    align-items:center;
    gap:16px;
    padding:16px 24px;
    background:rgba(15,23,42,.85);
    backdrop-filter:blur(8px);
    border-bottom:1px solid #1e293b;
}

header img{
    height:48px;
}

header h1{
    font-size:22px;
    margin:0;
}

/* MENU */
nav{
    display:flex;
    gap:10px;
    padding:16px;
    justify-content:center;
}

nav button{
    background:#1e293b;
    color:var(--text);
    border:none;
    padding:10px 18px;
    border-radius:10px;
    cursor:pointer;
    font-size:15px;
}

nav button.active{
    background:var(--accent);
    color:#020617;
    font-weight:600;
}

/* CONTENT */
main{
    flex:1;
    padding:20px;
    max-width:1100px;
    margin:auto;
    width:100%;
}

.section{
    display:none;
}

.section.active{
    display:block;
}

/* CARD */
.card{
    background:var(--card);
    border-radius:16px;
    padding:20px;
    box-shadow:0 10px 40px rgba(0,0,0,.4);
}

/* FOOTER */
footer{
    text-align:center;
    padding:16px;
    color:var(--muted);
    font-size:14px;
}

/* ===== SAPER ===== */
#board{
    display:grid;
    gap:6px;
    margin-top:16px;
}

.cell{
    width:36px;
    height:36px;
    background:#1e293b;
    display:flex;
    align-items:center;
    justify-content:center;
    font-weight:700;
    cursor:pointer;
    border-radius:6px;
    user-select:none;
}

.cell.revealed{
    background:#020617;
    cursor:default;
}

.cell.mine{
    background:#dc2626;
}

.controls{
    display:flex;
    gap:10px;
    margin-top:10px;
}

.controls button{
    background:var(--accent);
    color:#020617;
    border:none;
    padding:8px 14px;
    border-radius:8px;
    font-weight:600;
    cursor:pointer;
}
</style>
</head>

<body>

<header>
    <img src="Logo.png" alt="SpinnerRealYT logo">
    <h1>SpinnerRealYT Games</h1>
</header>

<nav>
    <button class="active" onclick="showSection('home',this)">Menu</button>
    <button onclick="showSection('saper',this)">Saper</button>
    <button onclick="showSection('sondaze',this)">Sonda≈ºe</button>
</nav>

<main>

<!-- MENU -->
<section id="home" class="section active">
    <div class="card">
        <h2>üéÆ Witaj!</h2>
        <p>Strona z grami HTML i projektami politycznymi SpinnerRealYT.</p>
        <p>Wybierz zak≈Çadkƒô u g√≥ry.</p>
    </div>
</section>

<!-- SAPER -->
<section id="saper" class="section">
    <div class="card">
        <h2>üí£ Saper</h2>
        <p>Kliknij ‚ÄûNowa gra‚Äù, aby wygenerowaƒá planszƒô.</p>

        <div class="controls">
            <button onclick="startGame()">Nowa gra</button>
        </div>

        <div id="board"></div>
    </div>
</section>

<!-- SONDA≈ªE -->
<section id="sondaze" class="section">
    <div class="card">
        <h2>üìä ≈örednie* sonda≈ºe Partii Politycznych w Polsce</h2>

        <div class="flourish-embed flourish-chart" data-src="visualisation/27035462"></div>
        <script src="https://public.flourish.studio/resources/embed.js"></script>

        <p style="margin-top:14px;color:var(--muted);font-size:14px;">
            *Sonda≈ºe przedstawiajƒÖ u≈õrednione wyniki z r√≥≈ºnych bada≈Ñ opinii publicznej.
        </p>
    </div>
</section>

</main>

<footer>
    ¬© 2026 SpinnerRealYT Games
</footer>

<script>
/* ===== MENU ===== */
function showSection(id,btn){
    document.querySelectorAll('.section').forEach(s=>s.classList.remove('active'));
    document.getElementById(id).classList.add('active');
    document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
    btn.classList.add('active');
}

/* ===== SAPER LOGIC ===== */
const size = 8;
const minesCount = 10;
let board = [];
let revealed = [];

function startGame(){
    const boardEl = document.getElementById('board');
    boardEl.innerHTML = '';
    boardEl.style.gridTemplateColumns = `repeat(${size},36px)`;

    board = Array(size*size).fill(0);
    revealed = Array(size*size).fill(false);

    let placed = 0;
    while(placed < minesCount){
        let i = Math.floor(Math.random()*board.length);
        if(board[i] !== 'M'){
            board[i] = 'M';
            placed++;
        }
    }

    for(let i=0;i<board.length;i++){
        if(board[i]==='M') continue;
        let count = 0;
        neighbors(i).forEach(n=>{
            if(board[n]==='M') count++;
        });
        board[i] = count;
    }

    board.forEach((_,i)=>{
        const cell = document.createElement('div');
        cell.className = 'cell';
        cell.onclick = ()=>reveal(i,cell);
        boardEl.appendChild(cell);
    });
}

function neighbors(i){
    const x = i % size;
    const y = Math.floor(i/size);
    let res=[];
    for(let dy=-1;dy<=1;dy++){
        for(let dx=-1;dx<=1;dx++){
            if(dx===0 && dy===0) continue;
            let nx=x+dx, ny=y+dy;
            if(nx>=0 && nx<size && ny>=0 && ny<size){
                res.push(ny*size+nx);
            }
        }
    }
    return res;
}

function reveal(i,cell){
    if(revealed[i]) return;
    revealed[i]=true;
    cell.classList.add('revealed');

    if(board[i]==='M'){
        cell.classList.add('mine');
        cell.textContent='üí£';
        alert('üí• Przegra≈Çe≈õ!');
        return;
    }

    if(board[i]>0){
        cell.textContent=board[i];
    }else{
        neighbors(i).forEach(n=>{
            const c = document.getElementById('board').children[n];
            if(c) reveal(n,c);
        });
    }
}
</script>

</body>
</html>
