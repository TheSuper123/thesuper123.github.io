<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Block Blast | SpinnerRealYT Games</title>
<link rel="icon" href="../Logo.png">

<style>
:root{
--bg:#020617;
--card:#0f172a;
--accent:#38bdf8;
--text:#e5e7eb;
}
*{box-sizing:border-box}
body{
margin:0;
font-family:Inter,system-ui,sans-serif;
background:radial-gradient(circle at top,#020617,#000);
color:var(--text);
}
header{
display:flex;
align-items:center;
gap:15px;
padding:15px 20px;
background:rgba(15,23,42,.9);
backdrop-filter:blur(10px);
position:sticky;
top:0;
z-index:100;
}
header img{height:42px}
nav button{
background:none;
border:none;
color:var(--text);
font-size:15px;
padding:8px 14px;
border-radius:10px;
cursor:pointer;
}
nav button:hover,
nav button.active{
background:rgba(56,189,248,.15);
color:var(--accent);
}
main{
max-width:1100px;
margin:auto;
padding:25px;
}
.card{
background:linear-gradient(180deg,#0f172a,#020617);
border-radius:20px;
padding:20px;
box-shadow:0 20px 60px rgba(0,0,0,.6);
margin-bottom:25px;
}
h1,h2{text-align:center}
footer{
text-align:center;
opacity:.6;
padding:25px 10px;
}

/* ===== BLOCK BLAST ===== */
#game-board{
display:grid;
margin:20px auto;
gap:2px;
background:var(--bg);
}
.cell{
background:#334155;
width:40px;
height:40px;
border-radius:5px;
display:flex;
align-items:center;
justify-content:center;
}
.block-picker{
display:flex;
justify-content:center;
gap:10px;
margin-top:15px;
flex-wrap:wrap;
}
.block-piece{
background:#38bdf8;
width:40px;
height:40px;
cursor:pointer;
display:flex;
align-items:center;
justify-content:center;
border-radius:5px;
margin:2px;
user-select:none;
}
.block-piece.dragging{
opacity:0.5;
}
#score{
text-align:center;
margin-top:10px;
font-weight:700;
}
</style>
</head>
<body>

<header>
<img src="../Logo.png" alt="SpinnerRealYT">
</header>

<main>
<div class="card">
<h1> Block Blast!</h1>
<p style="text-align:center">
U贸偶 bloki na planszy i czy wiersze lub kolumny, aby zdobywa punkty! Gra koczy si, gdy nie mo偶esz umieci kolejnych blok贸w.
</p>

<div id="score">Punkty: 0</div>
<div id="game-board"></div>
<div class="block-picker" id="block-picker"></div>

</div>
</main>

<footer>
漏 2026 SpinnerRealYT Games
</footer>

<script>
// ===== Block Blast Logic =====
const BOARD_SIZE = 8; // 8x8 plansza
let board = [];
let score = 0;

const boardEl = document.getElementById("game-board");
const pickerEl = document.getElementById("block-picker");
const scoreEl = document.getElementById("score");

// Ksztaty blok贸w (przykadowe, mo偶na doda wicej)
const BLOCKS = [
  [[1,1,1]],        // linia pozioma 3
  [[1],[1],[1]],    // linia pionowa 3
  [[1,1],[1,0]],    // L ksztat
  [[1,1],[1,1]]     // kwadrat 2x2
];

// ===== Inicjalizacja planszy =====
function initBoard(){
  boardEl.style.gridTemplateColumns = `repeat(${BOARD_SIZE}, 40px)`;
  board = Array(BOARD_SIZE).fill(0).map(()=>Array(BOARD_SIZE).fill(0));
  renderBoard();
}

function renderBoard(){
  boardEl.innerHTML = "";
  for(let r=0;r<BOARD_SIZE;r++){
    for(let c=0;c<BOARD_SIZE;c++){
      const cell = document.createElement("div");
      cell.classList.add("cell");
      if(board[r][c] === 1) cell.style.background="#dc2626"; // zajty
      boardEl.appendChild(cell);
    }
  }
}

// ===== Generowanie blok贸w =====
function spawnBlocks(){
  pickerEl.innerHTML = "";
  const chosenBlocks = [];
  for(let i=0;i<3;i++){
    const shape = BLOCKS[Math.floor(Math.random()*BLOCKS.length)];
    const div = document.createElement("div");
    div.classList.add("block-piece");
    div.dataset.shape = JSON.stringify(shape);
    drawBlock(div, shape);
    div.draggable = true;

    // Drag events
    div.addEventListener("dragstart", e=>{
      div.classList.add("dragging");
      e.dataTransfer.setData("text/plain", div.dataset.shape);
    });
    div.addEventListener("dragend", e=>{
      div.classList.remove("dragging");
    });

    chosenBlocks.push(shape);
    pickerEl.appendChild(div);
  }
}

// ===== Rysowanie blok贸w w pickerze =====
function drawBlock(container, shape){
  container.innerHTML="";
  for(let r=0;r<shape.length;r++){
    for(let c=0;c<shape[r].length;c++){
      if(shape[r][c]===1){
        const cell = document.createElement("div");
        cell.style.width="12px";
        cell.style.height="12px";
        cell.style.background="#38bdf8";
        cell.style.margin="1px";
        cell.style.display="inline-block";
        container.appendChild(cell);
      }
    }
  }
}

// ===== Drop na planszy =====
boardEl.addEventListener("dragover", e=>{
  e.preventDefault();
});
boardEl.addEventListener("drop", e=>{
  e.preventDefault();
  const shape = JSON.parse(e.dataTransfer.getData("text/plain"));
  const rect = boardEl.getBoundingClientRect();
  const x = Math.floor((e.clientX - rect.left)/40);
  const y = Math.floor((e.clientY - rect.top)/40);
  if(placeShape(shape,y,x)){
    checkLines();
    scoreEl.textContent=`Punkty: ${score}`;
    spawnBlocks();
  }
});

// ===== Funkcja umieszczania ksztatu =====
function placeShape(shape, row, col){
  for(let r=0;r<shape.length;r++){
    for(let c=0;c<shape[r].length;c++){
      if(shape[r][c]===1){
        const br = row+r;
        const bc = col+c;
        if(br>=BOARD_SIZE || bc>=BOARD_SIZE || board[br][bc]===1) return false;
      }
    }
  }
  for(let r=0;r<shape.length;r++){
    for(let c=0;c<shape[r].length;c++){
      if(shape[r][c]===1) board[row+r][col+c]=1;
    }
  }
  renderBoard();
  return true;
}

// ===== Czyszczenie linii =====
function checkLines(){
  for(let r=0;r<BOARD_SIZE;r++){
    if(board[r].every(cell=>cell===1)){
      board[r] = Array(BOARD_SIZE).fill(0);
      score += 10;
    }
  }
  for(let c=0;c<BOARD_SIZE;c++){
    if(board.every(row=>row[c]===1)){
      for(let r2=0;r2<BOARD_SIZE;r2++) board[r2][c]=0;
      score += 10;
    }
  }
  renderBoard();
}

// ===== Start =====
initBoard();
spawnBlocks();
</script>

</body>
</html>
