<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Block Blast â€“ SpinnerRealYT Games</title>
<link rel="icon" href="../Logo.png">

<style>
:root{
--bg:#020617;
--card:#0f172a;
--accent:#38bdf8;
--text:#e5e7eb;
--block-colors: #2563eb,#16a34a,#dc2626,#f59e0b,#8b5cf6;
}
*{box-sizing:border-box}
body{
margin:0;
font-family:Inter,system-ui,sans-serif;
background:radial-gradient(circle at top,#020617,#000);
color:var(--text);
}
header{
display:flex;
align-items:center;
gap:15px;
padding:15px 20px;
background:rgba(15,23,42,.9);
backdrop-filter:blur(10px);
position:sticky;
top:0;
z-index:100;
}
header img{height:42px}
nav button{
background:none;
border:none;
color:var(--text);
font-size:15px;
padding:8px 14px;
border-radius:10px;
cursor:pointer;
}
nav button:hover,
nav button.active{
background:rgba(56,189,248,.15);
color:var(--accent);
}
main{max-width:1100px;margin:auto;padding:25px}
.card{
background:linear-gradient(180deg,#0f172a,#020617);
border-radius:20px;
padding:20px;
box-shadow:0 20px 60px rgba(0,0,0,.6);
margin-bottom:25px;
}
h2{text-align:center}
footer{
text-align:center;
opacity:.6;
padding:25px 10px;
}

/* BLOCK BLAST */
#board{
display:grid;
grid-template-columns:repeat(9,40px);
grid-template-rows:repeat(9,40px);
gap:2px;
justify-content:center;
margin:20px auto;
}
.cell{
width:40px;
height:40px;
border-radius:5px;
background:#334155;
display:flex;
align-items:center;
justify-content:center;
user-select:none;
position:relative;
}
.block{
width:40px;
height:40px;
position:absolute;
border-radius:5px;
cursor:pointer;
}
#next-blocks{
display:flex;
justify-content:center;
gap:10px;
margin-top:15px;
}
#score{text-align:center;margin-top:10px;font-weight:700;font-size:18px;}
button{cursor:pointer;background:#020617;color:white;border:1px solid #334155;border-radius:10px;padding:6px 10px;margin:5px;}
</style>
</head>

<body>

<header>
<img src="../Logo.png" alt="SpinnerRealYT">
<nav id="nav"></nav>
</header>

<main>
<div class="card">
<h2>ðŸŸ¦ Block Blast 9x9</h2>
<p style="text-align:center">
UmieÅ›Ä‡ bloki na planszy. WypeÅ‚nij linie i kolumny, aby zdobywaÄ‡ punkty.
</p>
<div id="board"></div>
<div id="next-blocks"></div>
<div id="score">Punkty: 0</div>
<div style="text-align:center;margin-top:10px">
<button id="restart">Restart</button>
</div>
</div>
</main>

<footer>
Â© 2026 SpinnerRealYT Games
</footer>

<script>
/* MENU */
const games = [
  { file: "../index.html", name: "Menu" },
  { file: "saper.html", name: "Saper" },
  { file: "quiz.html", name: "Quiz" },
  { file: "polls.html", name: "SondaÅ¼e" },
  { file: "tictactoe.html", name: "KÃ³Å‚ko i KrzyÅ¼yk" },
  { file: "blockblast.html", name: "Block Blast" }
];

const nav = document.getElementById("nav");

const menuBtn = document.createElement("button");
menuBtn.textContent = "Menu";
menuBtn.classList.add("active");
menuBtn.onclick = () => location.href = "../index.html";
nav.appendChild(menuBtn);

games.forEach(g=>{
  const b=document.createElement("button");
  b.textContent=g.name;
  if(g.name==="Block Blast") b.classList.add("active");
  b.onclick=()=>location.href=g.file;
  nav.appendChild(b);
});
</script>

<script>
/* ===== LOGIKA BLOCK BLAST ===== */
const ROWS = 9;
const COLS = 9;
const COLORS = ["#2563eb","#16a34a","#dc2626","#f59e0b","#8b5cf6"];
const SHAPES = [
  [[1],[1],[1]], // linia pionowa
  [[1,1,1]], // linia pozioma
  [[1,1],[1,0]], // L
  [[1,1],[1,1]], // kwadrat
  [[1,0],[1,1]] // odwrotne L
];

const boardEl = document.getElementById("board");
const nextEl = document.getElementById("next-blocks");
const scoreEl = document.getElementById("score");
const restartBtn = document.getElementById("restart");

let board = [];
let score = 0;
let blocks = [];

function init(){
  score = 0;
  scoreEl.textContent = "Punkty: "+score;
  board = Array.from({length:ROWS},()=>Array(COLS).fill(null));
  blocks = [];
  boardEl.innerHTML = "";
  for(let r=0;r<ROWS;r++){
    for(let c=0;c<COLS;c++){
      const cell=document.createElement("div");
      cell.className="cell";
      cell.dataset.row=r;
      cell.dataset.col=c;
      boardEl.appendChild(cell);
    }
  }
  spawnNextBlocks();
}

function spawnNextBlocks(){
  nextEl.innerHTML = "";
  blocks = [];
  for(let i=0;i<3;i++){
    const shape = SHAPES[Math.floor(Math.random()*SHAPES.length)];
    const color = COLORS[Math.floor(Math.random()*COLORS.length)];
    const blockDiv = document.createElement("div");
    blockDiv.className="block";
    blockDiv.style.background=color;
    blockDiv.dataset.shape = JSON.stringify(shape);
    blockDiv.dataset.color = color;
    blockDiv.draggable=true;
    blockDiv.style.width = shape[0].length*40+"px";
    blockDiv.style.height = shape.length*40+"px";
    nextEl.appendChild(blockDiv);
    blocks.push(blockDiv);

    blockDiv.addEventListener("dragstart", e=>{
      e.dataTransfer.setData("text/plain", nextEl.children.indexOf(blockDiv));
    });
  }
}

function isValid(r,c,shape){
  for(let i=0;i<shape.length;i++){
    for(let j=0;j<shape[i].length;j++){
      if(shape[i][j]){
        const rr=r+i, cc=c+j;
        if(rr>=ROWS || cc>=COLS || board[rr][cc]) return false;
      }
    }
  }
  return true;
}

function placeBlock(r,c,shape,color){
  for(let i=0;i<shape.length;i++){
    for(let j=0;j<shape[i].length;j++){
      if(shape[i][j]) board[r+i][c+j]=color;
    }
  }
  renderBoard();
  checkLines();
}

function renderBoard(){
  [...boardEl.children].forEach(cell=>{
    const r=parseInt(cell.dataset.row);
    const c=parseInt(cell.dataset.col);
    cell.style.background=board[r][c]||"#334155";
  });
}

function checkLines(){
  let linesCleared=0;

  // sprawdÅº wiersze
  for(let r=0;r<ROWS;r++){
    if(board[r].every(v=>v)){
      linesCleared++;
      board[r]=Array(COLS).fill(null);
    }
  }

  // sprawdÅº kolumny
  for(let c=0;c<COLS;c++){
    if(board.every(row=>row[c])){
      linesCleared++;
      for(let r=0;r<ROWS;r++) board[r][c]=null;
    }
  }

  if(linesCleared>0){
    score += linesCleared*10;
    scoreEl.textContent = "Punkty: "+score;
    renderBoard();
  }
}

init();
restartBtn.onclick=init;
</script>

</body>
</html>
