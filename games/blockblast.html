<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Block Blast â€“ SpinnerRealYT Games</title>
<link rel="icon" href="../Logo.png">

<style>
:root{
--bg:#020617;
--card:#0f172a;
--accent:#38bdf8;
--text:#e5e7eb;
--colors: #2563eb, #16a34a, #dc2626, #f59e0b, #8b5cf6;
}
*{box-sizing:border-box}
body{
margin:0;
font-family:Inter,system-ui,sans-serif;
background:radial-gradient(circle at top,#020617,#000);
color:var(--text);
}
header{
display:flex;
align-items:center;
gap:15px;
padding:15px 20px;
background:rgba(15,23,42,.9);
backdrop-filter:blur(10px);
position:sticky;
top:0;
z-index:100;
}
header img{height:42px}
nav button{
background:none;
border:none;
color:var(--text);
font-size:15px;
padding:8px 14px;
border-radius:10px;
cursor:pointer;
}
nav button:hover,
nav button.active{
background:rgba(56,189,248,.15);
color:var(--accent);
}
main{max-width:1100px;margin:auto;padding:25px}
.card{
background:linear-gradient(180deg,#0f172a,#020617);
border-radius:20px;
padding:20px;
box-shadow:0 20px 60px rgba(0,0,0,.6);
margin-bottom:25px;
}
h2{text-align:center}
footer{
text-align:center;
opacity:.6;
padding:25px 10px;
}

/* BLOCK BLAST */
#board{
display:grid;
grid-template-columns:repeat(9,50px);
grid-template-rows:repeat(9,50px);
gap:5px;
justify-content:center;
margin:20px auto;
}
.cell{
width:50px;
height:50px;
border-radius:10px;
background:#334155;
cursor:pointer;
display:flex;
align-items:center;
justify-content:center;
font-weight:700;
transition: all 0.2s;
user-select:none;
}
</style>
</head>

<body>

<header>
<img src="../Logo.png" alt="SpinnerRealYT">
<nav id="nav"></nav>
</header>

<main>
<div class="card">
<h2>ðŸŸ¦ Block Blast 9x9</h2>
<p style="text-align:center">Klikaj bloki tego samego koloru, aby je zniszczyÄ‡. Zbieraj punkty!</p>
<div id="board"></div>
<div style="text-align:center;margin-top:10px">
<p id="score">Punkty: 0</p>
<button id="restart">Restart</button>
</div>
</div>
</main>

<footer>
Â© 2026 SpinnerRealYT Games
</footer>

<script>
/* MENU */
const games = [
  { file: "../index.html", name: "Menu" },
  { file: "saper.html", name: "Saper" },
  { file: "quiz.html", name: "Quiz" },
  { file: "polls.html", name: "SondaÅ¼e" },
  { file: "tictactoe.html", name: "KÃ³Å‚ko i KrzyÅ¼yk" },
  { file: "blockblast.html", name: "Block Blast" }
];

const nav = document.getElementById("nav");

const menuBtn = document.createElement("button");
menuBtn.textContent = "Menu";
menuBtn.classList.add("active");
menuBtn.onclick = () => location.href = "../index.html";
nav.appendChild(menuBtn);

games.forEach(g=>{
  const b=document.createElement("button");
  b.textContent=g.name;
  if(g.name==="Block Blast") b.classList.add("active");
  b.onclick=()=>location.href=g.file;
  nav.appendChild(b);
});
</script>

<script>
/* ===== LOGIKA BLOCK BLAST ===== */
const boardEl = document.getElementById("board");
const scoreEl = document.getElementById("score");
const restartBtn = document.getElementById("restart");

const ROWS = 9;
const COLS = 9;
const COLORS = ["#2563eb","#16a34a","#dc2626","#f59e0b","#8b5cf6"];
let board = [];
let score = 0;

function init(){
score = 0;
scoreEl.textContent = "Punkty: "+score;
board = [];
boardEl.innerHTML = "";
for(let r=0;r<ROWS;r++){
  board[r]=[];
  for(let c=0;c<COLS;c++){
    const color = COLORS[Math.floor(Math.random()*COLORS.length)];
    board[r][c] = color;
    const cell = document.createElement("div");
    cell.className="cell";
    cell.style.background=color;
    cell.dataset.row=r;
    cell.dataset.col=c;
    cell.onclick = ()=>clickCell(r,c);
    boardEl.appendChild(cell);
  }
}
}

function clickCell(r,c){
const target = board[r][c];
if(!target) return;
const toRemove = [];
findConnected(r,c,target,toRemove);
if(toRemove.length<2) return; // minimum 2 aby zniszczyÄ‡
toRemove.forEach(([x,y])=>{
  board[x][y]=null;
});
score += toRemove.length;
scoreEl.textContent = "Punkty: "+score;
applyGravity();
render();
}

function findConnected(r,c,color,toRemove){
if(r<0||r>=ROWS||c<0||c>=COLS) return;
if(board[r][c]!==color) return;
const key = r+"-"+c;
if(toRemove.some(e=>e[0]===r&&e[1]===c)) return;
toRemove.push([r,c]);
findConnected(r+1,c,color,toRemove);
findConnected(r-1,c,color,toRemove);
findConnected(r,c+1,color,toRemove);
findConnected(r,c-1,color,toRemove);
}

function applyGravity(){
for(let c=0;c<COLS;c++){
  let column = [];
  for(let r=0;r<ROWS;r++){
    if(board[r][c]) column.push(board[r][c]);
  }
  while(column.length<ROWS) column.unshift(null);
  for(let r=0;r<ROWS;r++){
    board[r][c] = column[r];
  }
}
}

function render(){
[...boardEl.children].forEach(cell=>{
  const r = parseInt(cell.dataset.row);
  const c = parseInt(cell.dataset.col);
  cell.style.background = board[r][c] || "#020617";
});
}

restartBtn.onclick = init;

init();
</script>

</body>
</html>
