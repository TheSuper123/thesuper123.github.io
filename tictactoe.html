<!DOCTYPE html>
<html lang="pl">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>K√≥≈Çko i Krzy≈ºyk ‚Äì SpinnerRealYT Games</title>
<link rel="icon" href="../Logo.png">

<style>
:root{
--bg:#020617;
--card:#0f172a;
--accent:#38bdf8;
--text:#e5e7eb;
}
*{box-sizing:border-box}
body{
margin:0;
font-family:Inter,system-ui,sans-serif;
background:radial-gradient(circle at top,#020617,#000);
color:var(--text);
}
header{
display:flex;
align-items:center;
gap:15px;
padding:15px 20px;
background:rgba(15,23,42,.9);
backdrop-filter:blur(10px);
position:sticky;
top:0;
z-index:100;
}
header img{height:42px}
nav button{
background:none;
border:none;
color:var(--text);
font-size:15px;
padding:8px 14px;
border-radius:10px;
cursor:pointer;
}
nav button:hover,
nav button.active{
background:rgba(56,189,248,.15);
color:var(--accent);
}
main{max-width:1100px;margin:auto;padding:25px}
.card{
background:linear-gradient(180deg,#0f172a,#020617);
border-radius:20px;
padding:20px;
box-shadow:0 20px 60px rgba(0,0,0,.6);
margin-bottom:25px;
}
h2{text-align:center}
footer{
text-align:center;
opacity:.6;
padding:25px 10px;
}

/* TIC TAC TOE */
#board{
display:grid;
grid-template-columns:repeat(3,100px);
gap:10px;
justify-content:center;
margin:20px auto;
}
.cell{
width:100px;
height:100px;
background:#334155;
display:flex;
align-items:center;
justify-content:center;
font-size:48px;
font-weight:700;
cursor:pointer;
border-radius:15px;
user-select:none;
}
.cell:hover{background:#475569}

select,button{
background:#020617;
color:white;
border:1px solid #334155;
border-radius:10px;
padding:6px 10px;
margin:5px;
cursor:pointer;
}
#status{text-align:center;margin-top:10px}
</style>
</head>

<body>

<header>
<img src="../Logo.png" alt="SpinnerRealYT">
<nav id="nav"></nav>
</header>

<main>

<div class="card">
<h2>‚ùå‚≠ï K√≥≈Çko i Krzy≈ºyk</h2>

<div style="text-align:center">
Poziom trudno≈õci:
<select id="difficulty">
<option value="amator">Amator</option>
<option value="easy">≈Åatwy</option>
<option value="medium">≈öredni</option>
<option value="hard">Trudny</option>
</select>
<button id="restart">Restart</button>
</div>

<div id="board"></div>
<div id="status">Tw√≥j ruch (‚ùå)</div>

</div>

</main>

<footer>
¬© 2026 SpinnerRealYT Games
</footer>

<script>
/* ===== MENU ===== */
const games = [
  { file: "../index.html", name: "Menu" },
  { file: "saper.html", name: "Saper" },
  { file: "quiz.html", name: "Quiz" },
  { file: "polls.html", name: "Sonda≈ºe" },
  { file: "tictactoe.html", name: "K√≥≈Çko i Krzy≈ºyk" }
];

const nav = document.getElementById("nav");

games.forEach(g=>{
  const b=document.createElement("button");
  b.textContent=g.name;
  if(g.name==="K√≥≈Çko i Krzy≈ºyk") b.classList.add("active");
  b.onclick=()=>location.href=g.file;
  nav.appendChild(b);
});

/* ===== GRA ===== */
const boardEl = document.getElementById("board");
const statusEl = document.getElementById("status");
const restartBtn = document.getElementById("restart");
const difficultySelect = document.getElementById("difficulty");

let board, gameOver;

function init(){
board = Array(9).fill(null);
gameOver = false;
boardEl.innerHTML="";
statusEl.textContent="Tw√≥j ruch (‚ùå)";

for(let i=0;i<9;i++){
const cell=document.createElement("div");
cell.className="cell";
cell.onclick=()=>playerMove(i);
boardEl.appendChild(cell);
}
}
init();

function playerMove(i){
if(gameOver || board[i]) return;
board[i]="X";
render();
if(checkWin("X")) return end("üéâ Wygra≈Çe≈õ!");
if(board.every(Boolean)) return end("ü§ù Remis");
setTimeout(aiMove,300);
}

function aiMove(){
if(gameOver) return;
const move = getAIMove();
board[move]="O";
render();
if(checkWin("O")) return end("üíÄ Przegra≈Çe≈õ");
if(board.every(Boolean)) return end("ü§ù Remis");
statusEl.textContent="Tw√≥j ruch (‚ùå)";
}

function getAIMove(){
const level = difficultySelect.value;
const empty = board.map((v,i)=>v?null:i).filter(v=>v!==null);

if(level==="amator") return empty[Math.floor(Math.random()*empty.length)];

if(level==="easy" && Math.random()<0.5)
return empty[Math.floor(Math.random()*empty.length)];

if(level==="medium"){
const win = findWinningMove("O") ?? findWinningMove("X");
if(win!==null) return win;
}

if(level==="hard"){
return minimax(board,"O").index;
}

return empty[Math.floor(Math.random()*empty.length)];
}

function findWinningMove(p){
for(let i=0;i<9;i++){
if(!board[i]){
board[i]=p;
if(checkWin(p)){board[i]=null;return i;}
board[i]=null;
}
}
return null;
}

function minimax(b,player){
const empty=b.map((v,i)=>v?null:i).filter(v=>v!==null);
if(checkStatic(b,"X")) return {score:-10};
if(checkStatic(b,"O")) return {score:10};
if(empty.length===0) return {score:0};

let moves=[];
for(let i of empty){
b[i]=player;
const res=minimax(b,player==="O"?"X":"O");
moves.push({index:i,score:res.score});
b[i]=null;
}

return player==="O"
? moves.reduce((a,b)=>b.score>a.score?b:a)
: moves.reduce((a,b)=>b.score<a.score?b:a);
}

function checkWin(p){return checkStatic(board,p);}
function checkStatic(b,p){
const w=[[0,1,2],[3,4,5],[6,7,8],[0,3,6],[1,4,7],[2,5,8],[0,4,8],[2,4,6]];
return w.some(c=>c.every(i=>b[i]===p));
}

function render(){
[...boardEl.children].forEach((c,i)=>c.textContent=board[i]||"");
}

function end(msg){
gameOver=true;
statusEl.textContent=msg;
}

restartBtn.onclick=init;
</script>

</body>
</html>
